(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(6),a=n.n(s),i=n(2),o=(n(11),n(12),n(3)),j=n.n(o),u=n(4),l=n(0),b=r.a.createContext(),d="http://www.omdbapi.com/",h="caf132a8";function O(){return Object(c.useContext)(b)}function p(e){var t=e.children,n=Object(c.useState)([]),r=Object(i.a)(n,2),s=r[0],a=r[1],o=Object(c.useState)([]),O=Object(i.a)(o,2),p=O[0],x=O[1],f=Object(c.useState)(""),m=Object(i.a)(f,2),v=m[0],g=m[1],y=Object(c.useState)(""),N=Object(i.a)(y,2),S=N[0],w=N[1],k=Object(c.useState)(1),R=Object(i.a)(k,2),M=R[0],C=R[1],E=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=9;break}return t="".concat(d,"?s=").concat(S,"&type=movie&apikey=").concat(h),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:(c=e.sent).Search&&(a(c.Search),g(c.totalResults));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a([]),w(t),n="".concat(d,"?s=").concat(t,"&type=movie&apikey=").concat(h),e.next=5,fetch(n);case 5:return c=e.sent,e.next=8,c.json();case 8:(r=e.sent).Search&&(a(r.Search),g(r.totalResults));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a([]),C(t),n="".concat(d,"?s=").concat(S,"&page=").concat(t,"&type=movie&apikey=").concat(h),e.next=5,fetch(n);case 5:return c=e.sent,e.next=8,c.json();case 8:(r=e.sent).Search&&(a(r.Search),g(r.totalResults));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(d,"?i=").concat(t,"&type=movie&apikey=").concat(h),e.next=3,fetch(n);case 3:return c=e.sent,e.next=6,c.json();case 6:(r=e.sent)&&x(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){E()}),[]);var L={movies:s,nbResults:v,searchMovie:T,paginateSearchMovie:D,currentPage:M,currentTitle:S,searcMovieById:P,movieDetail:p};return Object(l.jsx)(b.Provider,{value:L,children:t})}n(15);function x(e){var t=e.poster,n=e.alt,r=Object(c.useState)(!1),s=Object(i.a)(r,2),a=s[0],o=s[1],j=Object(c.useState)(!!t),u=Object(i.a)(j,2),b=u[0],d=u[1];return Object(l.jsx)(l.Fragment,{children:b?Object(l.jsx)("img",{className:"smooth-image \n                    image-".concat(a?"visible":"hidden"),src:t,alt:n,onLoad:function(){return o(!0)},onError:function(){return d(!1)}}):Object(l.jsx)("div",{className:"smooth-no-image",children:"IMAGE NOT FOUND"})})}function f(e){var t=e.movie,n=e.openModal;return Object(l.jsxs)("li",{onClick:function(){return n({content:t,open:!0})},className:"image-container ".concat(t?null:"loading"),children:[Object(l.jsx)(x,{poster:t.Poster,alt:t.Title}),Object(l.jsx)("div",{className:"title-container",children:Object(l.jsx)("span",{children:t.Title})})]})}n(16);function m(){var e=O(),t=e.nbResults,n=e.paginateSearchMovie,c=e.currentPage;function r(e){"next"==e?n(c+1):c>=1&&n(c-1)}return Object(l.jsxs)("div",{className:"paginator",children:[Object(l.jsx)("button",{onClick:function(e){return r("back")},children:"\u2190"}),Object(l.jsxs)("span",{children:[10*c-9," - ",10*c,"  of ",t," "]}),Object(l.jsx)("button",{onClick:function(e){return r("next")},children:"\u2192"})]})}function v(e){var t=e.openModal,n=O(),c=n.movies,r=n.currentTitle;return Object(l.jsxs)("div",{className:r?"movielist-container":"hide",children:[Object(l.jsxs)("div",{className:"top-bar",children:[Object(l.jsxs)("h3",{children:["Results for ",r]}),Object(l.jsx)(m,{})]}),Object(l.jsx)("ul",{className:"movielist",children:c[0]?c.map((function(e,n){return Object(l.jsx)(f,{openModal:t,movie:e},n)})):Object(l.jsx)("span",{children:"No Results"})})]})}n(17);function g(){var e=O(),t=e.searchMovie,n=e.currentTitle;return Object(l.jsxs)("header",{className:n?"header":"header full-view",children:[Object(l.jsx)("h2",{children:"Movie Searcher"}),Object(l.jsx)("form",{children:Object(l.jsx)("input",{onChange:function(e){return t(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&e.preventDefault()},type:"text",placeholder:"Enter a name to search..."})})]})}n(18);function y(e){var t=e.modal,n=e.handleClose,r=O(),s=r.searcMovieById,a=r.movieDetail,o=Object(c.useState)(!1),j=Object(i.a)(o,2),u=j[0],b=j[1],d=Object(c.useRef)();return function(e,t){Object(c.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t({content:{},open:!1})};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n),document.getElementsByClassName("app").onwheel=function(){return!0}}}),[e])}(d,n),Object(c.useEffect)((function(){s(t.content.imdbID)}),[]),Object(l.jsx)("div",{className:"overlay",children:a.Title?Object(l.jsxs)("div",{onLoad:function(){return b(!0)},ref:d,className:"modal ".concat(u?"modal-open":"modal-not-open"),children:[Object(l.jsx)("span",{onClick:function(){return n({content:{},open:!1})},className:"close-button",children:"\u2190"}),Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsxs)("div",{className:"sidebar",children:[Object(l.jsx)("div",{className:"image-container",children:Object(l.jsx)(x,{poster:a.Poster,alt:a.Title})}),Object(l.jsxs)("div",{className:"movie-details",children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Country:"}),"  ",a.Country]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Genre:"}),"  ",a.Genre]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Director:"}),"  ",a.Director]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Writer:"}),"  ",a.Writer]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Language:"}),"  ",a.Language]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Released:"}),"  ",a.Released]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Runtime:"}),"  ",a.Runtime]})]})]}),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("h3",{children:a.Title}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Synopis: "}),a.Plot]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Awards: "}),a.Awards]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Actors: "}),a.Actors]}),a.Ratings?a.Ratings.map((function(e,t){return Object(l.jsxs)("p",{children:[Object(l.jsxs)("b",{children:[e.Source,": "]}),e.Value]},t)})):null]})]})]}):Object(l.jsx)("div",{className:"spinner"})})}var N=function(){var e=Object(c.useState)({content:{},open:!1}),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(l.jsx)("div",{className:"app",children:Object(l.jsxs)(p,{children:[Object(l.jsx)(g,{}),Object(l.jsx)(v,{openModal:r}),n.open?Object(l.jsx)(y,{modal:n,handleClose:r}):null]})})};n(19);a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.de3ab995.chunk.js.map